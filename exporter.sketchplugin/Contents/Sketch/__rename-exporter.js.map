{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/dialog.js","webpack://exports/./src/macos-ui.js","webpack://exports/./src/rename-exporter.js","webpack://exports/./src/utils.js","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/settings\""],"names":["DIALOG_TITLE","DIALOG_REPLACE_WORD","ELEMENT_HEIGHT","DIALOG_ELEMENTS","type","id","value","paddingBottom","viewContents","createDialog","previousSettings","dialog","NSAlert","alloc","init","setMessageText","addButtonWithTitle","COUNT_ELEMENTS","length","PADDING","map","elem","reduce","acc","pad","TOTAL_MODAL_HEIGHT","customView","NSView","initWithFrame","NSMakeRect","position_next_elem","element","i","yPos","UIElement","createLabel","createSelect","createCheckbox","label","default","createTextbox","frame","size","text","placeholder","previousSetting","selectItemWithTitle","selectCase","setEnabled","useFullName","setStringValue","prefix","selectFormat","selectScale","forEach","subview","addSubview","setAccessoryView","rect","x","y","w","h","bold","NSTextField","setBezeled","setDrawsBackground","setEditable","setSelectable","setFont","NSFont","boldSystemFontOfSize","systemFontOfSize","placeholderString","items","select","NSPopUpButton","menu","addItem","NSMenuItem","separatorItem","addItemWithTitle","name","onstate","enabled","checkbox","NSButton","setButtonType","NSSwitchButton","setTitle","setTag","setState","NSOnState","NSOffState","PREFS_KEY","context","doc","sketch","getSelectedDocument","selection","selectedLayers","UI","message","settings","settingForKey","runModal","NSAlertFirstButtonReturn","formatElemIdx","findIndex","formatvalueIndex","indexOfSelectedItem","prefs","setSettingForKey","open","NSOpenPanel","openPanel","canChooseFiles","canChooseDirectories","canCreateDirectories","path","URL","layers","originalLayerNames","layer","fileFormat","replaceDate","exportOptions","formats","scales","output","export","str","replace","formattedDate","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear"],"mappings":"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","file":"__rename-exporter.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/rename-exporter.js\");\n","import {\n    createLabel,\n    createTextbox,\n    createSelect,\n    createCheckbox\n} from './macos-ui'\n\nconst DIALOG_TITLE = \"Date Exporter\"\nconst DIALOG_REPLACE_WORD = \"DATE\"\n\nconst ELEMENT_HEIGHT = 24;\nconst DIALOG_ELEMENTS = [\n    {\n        type: 'label',\n        id: 'replaceKeyword',\n        value: `Replacing word '${DIALOG_REPLACE_WORD}' with date`,\n        paddingBottom: 2\n    },\n    {\n        type: 'label',\n        id: 'fileFormat',\n        value: 'File Format:',\n        paddingBottom: -2\n    },\n    {\n        type: 'select',\n        id: 'selectFormat',\n        value: ['png', 'jpg'],\n        paddingBottom: 8\n    }\n]\n\nlet viewContents = null\n\n//  Create custom dialog\n\nfunction createDialog(previousSettings) {\n    const dialog = NSAlert.alloc().init()\n\n    dialog.setMessageText(DIALOG_TITLE);\n    dialog.addButtonWithTitle(\"Export\");\n    dialog.addButtonWithTitle(\"Cancel\");\n\n    const COUNT_ELEMENTS = DIALOG_ELEMENTS.length\n    const PADDING = DIALOG_ELEMENTS.map(elem => elem.paddingBottom).reduce((acc, pad) => acc + pad, 0)\n    const TOTAL_MODAL_HEIGHT = COUNT_ELEMENTS * (ELEMENT_HEIGHT) + PADDING\n    const customView = NSView.alloc().initWithFrame(NSMakeRect(0, 0, 200, TOTAL_MODAL_HEIGHT));\n    let position_next_elem = ELEMENT_HEIGHT\n\n    viewContents = DIALOG_ELEMENTS.map((element, i) => {\n        let type = element.type\n\n        // let padding = (i === 0 || i === 1 || i === 4) ? 0 : element.paddingBottom\n        let yPos = TOTAL_MODAL_HEIGHT - position_next_elem // ((i+1) * (ELEMENT_HEIGHT))\n\n        let UIElement;\n\n        if (type == 'label') {\n        UIElement = createLabel(NSMakeRect(0, yPos, 200, ELEMENT_HEIGHT), 12, false, element.value);\n        } else if (type == 'select') {\n        UIElement = createSelect(NSMakeRect(0, yPos, 200, ELEMENT_HEIGHT), element.value)\n        } else if (type == 'checkbox') {\n        UIElement = createCheckbox(NSMakeRect(0, yPos, 200, ELEMENT_HEIGHT), element.label, element.value, element.default, true);\n        } else if (type == 'text') {\n        UIElement = createTextbox({\n            frame: NSMakeRect(0, yPos, 200, ELEMENT_HEIGHT),\n            size: 12,\n            text: element.value,\n            placeholder: element.placeholder\n        })\n        }\n\n        if (typeof previousSetting !== 'undefined') {\n            if (element.id == 'selectCase') {\n                UIElement.selectItemWithTitle(previousSetting.selectCase)\n            } else if (element.id == 'fullName') {\n                UIElement.setEnabled(previousSetting.useFullName)\n            } else if (element.id == 'prefix') {\n                UIElement.setStringValue(previousSetting.prefix)\n            } else if (element.id == 'selectFormat') {\n                UIElement.selectItemWithTitle(previousSetting.selectFormat)\n            } else if (element.id == 'selectScale') {\n                UIElement.selectItemWithTitle(previousSetting.selectScale)\n            }\n        }\n\n        position_next_elem += ELEMENT_HEIGHT + element.paddingBottom\n\n        return UIElement\n    })\n\n    viewContents.forEach(subview => {\n        customView.addSubview(subview)\n    })\n    dialog.setAccessoryView(customView)\n\n    return dialog\n}\n\nexport {\n    createDialog,\n    viewContents,\n    DIALOG_ELEMENTS,\n    DIALOG_REPLACE_WORD\n}","// -------------------------------------------------\n// --------------- Dialog formatting ---------------\n// -------------------------------------------------\nexport function rect(x, y, w, h) {\n    var rect = NSMakeRect(x, y, w, h)\n    return rect;\n}\n\nexport function createLabel(frame, size, bold, text) {\n    var label = NSTextField.alloc().initWithFrame(frame);\n    label.setStringValue(text);\n    label.setBezeled(false);\n    label.setDrawsBackground(false);\n    label.setEditable(false);\n    label.setSelectable(false);\n\n    if (bold) {\n        label.setFont(NSFont.boldSystemFontOfSize(size));\n    } else {\n        label.setFont(NSFont.systemFontOfSize(size));\n    }\n    return label;\n}\n\nexport function createTextbox({ frame, size, bold, text, placeholder }) {\n    var label = NSTextField.alloc().initWithFrame(frame);\n    label.setStringValue(text);\n    label.setBezeled(true);\n    label.setDrawsBackground(true);\n    label.setEditable(true);\n    label.setSelectable(true);\n    label.placeholderString = placeholder\n\n    if (bold) {\n        label.setFont(NSFont.boldSystemFontOfSize(size));\n    } else {\n        label.setFont(NSFont.systemFontOfSize(size));\n    }\n    return label;\n}\n\nexport function createSelect(frame, items) {\n    var select = NSPopUpButton.alloc().initWithFrame(frame);\n    for (var i = 0; i < items.length; i++) {\n        if (items[i] == \"--\") {\n        select.menu().addItem(NSMenuItem.separatorItem())\n        } else {\n        select.addItemWithTitle(items[i])\n        }\n    }\n    return select;\n}\n\nexport function createCheckbox(frame, name, value, onstate, enabled) {\n    var checkbox = NSButton.alloc().initWithFrame(frame);\n    checkbox.setButtonType(NSSwitchButton);\n    // checkbox.setBezelStyle(1);\n    checkbox.setTitle(name);\n    checkbox.setTag(value);\n    checkbox.setState(onstate ? NSOnState : NSOffState);\n    checkbox.setEnabled(enabled);\n    return checkbox;\n}","import sketch from 'sketch'\nimport settings from 'sketch/settings'\n\n//  Dialog creation imports\nimport { viewContents, DIALOG_ELEMENTS, createDialog } from './dialog'\n\n//  Import file renamer\nimport {\n    replaceDate\n} from './utils'\n\nconst PREFS_KEY = \"previous_settings\"\n\n// -------------------------------------------------\n// ------------------- The Plugin ------------------\n// -------------------------------------------------\n\nexport default function(context) {\n    const doc = sketch.getSelectedDocument()\n    if (!doc) return\n    const selection = doc.selectedLayers\n  \n    if (selection.length === 0) {\n      sketch.UI.message('No layers are selected.')\n      return\n    } else {\n  \n      // Load user settings\n      var previousSettings = settings.settingForKey(PREFS_KEY)\n      const dialog = createDialog(previousSettings)\n  \n      // Run the dialog\n      if (dialog.runModal() !== NSAlertFirstButtonReturn) {\n        return\n      } else {\n        const formatElemIdx = DIALOG_ELEMENTS.findIndex(elem => elem.id === 'selectFormat')\n\n        // Save the responses from that modal\n        const formatvalueIndex = viewContents[formatElemIdx].indexOfSelectedItem();\n          \n        // Save user settings\n        let prefs = {\n          \"selectFormat\": DIALOG_ELEMENTS[formatElemIdx].value[formatvalueIndex],\n        }\n        settings.setSettingForKey(PREFS_KEY, prefs)\n  \n        // Create an Open dialog\n        const open = NSOpenPanel.openPanel();\n        open.canChooseFiles = false\n        open.canChooseDirectories = true\n        open.canCreateDirectories = true\n      \n        // run the open dialog\n        if (open.runModal()) {\n          const path = open.URL().path();\n          const selectedLayers = selection.layers\n      \n          // Preserve the original layer names so we can change them back\n          const originalLayerNames = selectedLayers.map(layer => layer.name)\n      \n          // Get the selected file format\n          const fileFormat = DIALOG_ELEMENTS[formatElemIdx].value[formatvalueIndex]\n        \n          // Change the file names appropriately\n          selectedLayers.forEach(layer => {\n\n            //  Replace 'DATE' with current date\n            layer.name = replaceDate(layer.name)\n          })\n  \n          // Set the format and save path\n          const exportOptions = {\n            formats: fileFormat,\n            scales: 1,\n            output: path,\n          }\n          \n          // Export the layers\n          sketch.export(selectedLayers, exportOptions)\n      \n          // Reset the layer names\n          selectedLayers.forEach((layer, i) => {\n            layer.name = originalLayerNames[i]\n          })\n          // Show confirmation\n          sketch.UI.message(`Exported ${selectedLayers.length} layers.`)\n        }\n      }\n    }\n}","import { DIALOG_REPLACE_WORD } from \"./dialog\";\n\nexport function replaceDate(str) {\n    if (typeof str !== 'string') return \"\"\n    str = str.replace(DIALOG_REPLACE_WORD, formattedDate())\n    return str\n}\n\nfunction formattedDate() {\n    var today = new Date();\n    var dd = today.getDate();\n    var mm = today.getMonth()+1; \n    var yyyy = today.getFullYear();\n\n    if(dd<10) {\n        dd='0'+dd;\n    } \n\n    if(mm<10) {\n        mm='0'+mm;\n    }\n\n    return yyyy+'-'+mm+'-'+dd\n}","module.exports = require(\"sketch\");","module.exports = require(\"sketch/settings\");"],"sourceRoot":""}